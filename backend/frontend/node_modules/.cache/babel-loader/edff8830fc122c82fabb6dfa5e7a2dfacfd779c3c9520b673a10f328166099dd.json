{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Modal,Button,Form}from'react-bootstrap';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UserFormModal(_ref){let{show,handleClose,fetchUsers,editUser}=_ref;const[formData,setFormData]=useState({name:'',email:'',phone:'',age:''});useEffect(()=>{if(editUser)setFormData(editUser);else setFormData({name:'',email:'',phone:'',age:''});},[editUser]);const handleChange=e=>setFormData({...formData,[e.target.name]:e.target.value});const handleSubmit=async()=>{if(!formData.name||!formData.email||!/^\\d{10}$/.test(formData.phone)||!(formData.age>0&&formData.age<=100)){alert('Please enter valid data');return;}if(editUser){await axios.put(`http://localhost:5000/users/${editUser._id}`,formData);}else{await axios.post('http://localhost:5000/users',formData);}fetchUsers();handleClose();};return/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:editUser?\"Edit User\":\"Add User\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Phone\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"phone\",value:formData.phone,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Age\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",name:\"age\",value:formData.age,onChange:handleChange,required:true})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleSubmit,children:editUser?\"Update\":\"Add\"})]})]});}export default UserFormModal;","map":{"version":3,"names":["React","useState","useEffect","Modal","Button","Form","axios","jsx","_jsx","jsxs","_jsxs","UserFormModal","_ref","show","handleClose","fetchUsers","editUser","formData","setFormData","name","email","phone","age","handleChange","e","target","value","handleSubmit","test","alert","put","_id","post","onHide","children","Header","closeButton","Title","Body","Group","Label","Control","type","onChange","required","Footer","variant","onClick"],"sources":["C:/Users/Roli singh/Documents/GitHub/Dashboard/backend/frontend/src/components/UserFormModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Modal, Button, Form } from 'react-bootstrap';\nimport axios from 'axios';\n\nfunction UserFormModal({ show, handleClose, fetchUsers, editUser }) {\n  const [formData, setFormData] = useState({ name: '', email: '', phone: '', age: '' });\n\n  useEffect(() => {\n    if (editUser) setFormData(editUser);\n    else setFormData({ name: '', email: '', phone: '', age: '' });\n  }, [editUser]);\n\n  const handleChange = (e) => setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const handleSubmit = async () => {\n    if (!formData.name || !formData.email || !/^\\d{10}$/.test(formData.phone) || !(formData.age > 0 && formData.age <= 100)) {\n      alert('Please enter valid data');\n      return;\n    }\n\n    if (editUser) {\n      await axios.put(`http://localhost:5000/users/${editUser._id}`, formData);\n    } else {\n      await axios.post('http://localhost:5000/users', formData);\n    }\n\n    fetchUsers();\n    handleClose();\n  };\n\n  return (\n    <Modal show={show} onHide={handleClose}>\n      <Modal.Header closeButton><Modal.Title>{editUser ? \"Edit User\" : \"Add User\"}</Modal.Title></Modal.Header>\n      <Modal.Body>\n        <Form>\n          <Form.Group><Form.Label>Name</Form.Label><Form.Control type=\"text\" name=\"name\" value={formData.name} onChange={handleChange} required /></Form.Group>\n          <Form.Group><Form.Label>Email</Form.Label><Form.Control type=\"email\" name=\"email\" value={formData.email} onChange={handleChange} required /></Form.Group>\n          <Form.Group><Form.Label>Phone</Form.Label><Form.Control type=\"text\" name=\"phone\" value={formData.phone} onChange={handleChange} required /></Form.Group>\n          <Form.Group><Form.Label>Age</Form.Label><Form.Control type=\"number\" name=\"age\" value={formData.age} onChange={handleChange} required /></Form.Group>\n        </Form>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={handleClose}>Cancel</Button>\n        <Button variant=\"primary\" onClick={handleSubmit}>{editUser ? \"Update\" : \"Add\"}</Button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\nexport default UserFormModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}